# Sim2RealEnv

The `Sim2RealEnv` class is a gymnasium interface for the real world robot.

The goal of the `Sim2RealEnv` class is to avoid manually writing excessive code while ensuring aspects like controller code or sensor image resolution/shapes are aligned with the simulation. The `Sim2RealEnv` class inspects a given simulation environment and automatically tries to setup the real environment to be as similar as possible. It will also perform some automated checks to ensure that the real environment's robot and sensors are correctly configured. This will ensure that the real environment uses the same exact action space and robot controller as the simulation environment, and ensure the observations are the same shape and order (it does not guarantee real-world images match the fidelity of simulation images). Moreover the `Sim2RealEnv` class will also follow the Gymnasium interface so it can be used similar to a simulation environment. Code shown hides some of the real robot code setup for brevity.



For those familiar with Gymnasium/Reinforcement Learning (RL), we also support simulation wrappers on real environments. In order to re-use the wrappers you may have used for RL training in simulation, you simply apply those wrappers to the `sim_env` before passing it into the `Sim2RealEnv` constructor. A common wrapper is the [FlattenRGBDObservationWrapper](../wrappers/flatten.md#flatten-rgbd-observations) which flattens the observation space to a dictionary with a "state" key and a "rgb" and/or "depth" key. The example below will show how to apply the wrapper and then create a real environment interface and print the observation data/shapes.


Like the rest of ManiSkill and simulated environments, all Sim2Real environments will output batched data by default.

:::{note}
While this may streamline the process of creating sim2real environment interfaces for robot policy deployment, it is quite simple and requires instantiating one CPU simulated environment in order to do the automatic checks and configuration of the controller and sensors. Moreover it is possible there is overhead induced by inefficiencies as this general code cannot easily account for features unique to some real-world setups. We further tried to make it such that most gym wrappers would be compatible with the real environment, but if you run into issues please let us know.

If you need heavy customizations we provide some recommendations in later sections of the tutorial.
:::
